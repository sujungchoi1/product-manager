(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(t,e,c){},52:function(t,e,c){},53:function(t,e,c){"use strict";c.r(e);var n=c(0),i=c(1),s=c.n(i),a=c(19),r=c.n(a),o=(c(27),c(2)),l=c(21),j=c(3),u=c(5),d=c.n(u),b=function(t){var e=t.initialTitle,c=t.initialPrice,s=t.initialDescription,a=t.onSubmitProp,r=Object(i.useState)(e),o=Object(j.a)(r,2),l=o[0],u=o[1],d=Object(i.useState)(c),b=Object(j.a)(d,2),h=b[0],p=b[1],O=Object(i.useState)(s),m=Object(j.a)(O,2),f=m[0],x=m[1];return Object(n.jsxs)("form",{className:"formGroup",onSubmit:function(t){t.preventDefault(),a({title:l,price:h,description:f}),u(""),p(""),x("")},children:[Object(n.jsxs)("div",{className:"form-group row",children:[Object(n.jsx)("label",{htmlFor:"inputTitle",className:"col-sm-2 col-form-label",children:"Title"}),Object(n.jsx)("div",{className:"col-sm-10",children:Object(n.jsx)("input",{type:"title",onChange:function(t){return u(t.target.value)},value:l,className:"form-control",id:"title",placeholder:"Title"})})]}),Object(n.jsxs)("div",{className:"form-group row",children:[Object(n.jsx)("label",{htmlFor:"price",className:"col-sm-2 col-form-label",children:"Price"}),Object(n.jsx)("div",{className:"col-sm-10",children:Object(n.jsx)("input",{type:"text",onChange:function(t){return p(t.target.value)},value:h,className:"form-control",id:"price",placeholder:"Price"})})]}),Object(n.jsxs)("div",{className:"form-group row",children:[Object(n.jsx)("label",{htmlFor:"desc",className:"col-sm-2 col-form-label",children:"Description"}),Object(n.jsx)("div",{className:"col-sm-10",children:Object(n.jsx)("input",{type:"text",onChange:function(t){return x(t.target.value)},value:f,className:"form-control",id:"desc",placeholder:"Description"})})]}),Object(n.jsx)("div",{className:"col-sm-10",children:Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})})]})},h=function(t){var e=t.productId,c=t.successCallback;return Object(n.jsx)("button",{className:"btn btn-secondary",onClick:function(t){d.a.delete("http://localhost:8000/api/products/"+e).then((function(t){c(e),console.log(t,"** Deleting a product")})).catch((function(t){return console.log("Error: ",t)}))},children:"Delete"})},p=function(t){return Object(n.jsxs)("div",{className:"displayAll",children:[Object(n.jsx)("h1",{children:"All Products:"}),t.products.map((function(e,c){return Object(n.jsxs)("h4",{className:"productTitle",children:[Object(n.jsxs)(o.a,{to:"/".concat(e._id),children:[" ",e.title," "]}),Object(n.jsx)(o.a,{to:"/".concat(e._id,"/edit"),children:Object(n.jsx)("span",{children:"Edit"})}),Object(n.jsx)(h,{productId:e._id,successCallback:t.removeFromDom})]},c)}))]})},O=function(){var t=Object(i.useState)([]),e=Object(j.a)(t,2),c=e[0],s=e[1],a=Object(i.useState)(!1),r=Object(j.a)(a,2),o=r[0],u=r[1],h=Object(i.useState)([]),O=Object(j.a)(h,2),m=O[0],f=O[1];Object(i.useEffect)((function(){d.a.get("http://localhost:8000/api/products").then((function(t){s(t.data),u(!0)})).catch((function(t){return console.log("Error: ",t)}))}),[]);return Object(n.jsxs)("div",{className:"mainForm",children:[Object(n.jsx)("h2",{children:"Product Manager"}),m.map((function(t,e){return Object(n.jsxs)("p",{style:{color:"red"},children:[" ",t," "]},e)})),Object(n.jsx)(b,{onSubmitProp:function(t){d.a.post("http://localhost:8000/api/products/new",t).then((function(t){console.log(t,"** New product created"),s([].concat(Object(l.a)(c),[t.data]))})).catch((function(t){for(var e=t.response.data.errors,c=[],n=0,i=Object.keys(e);n<i.length;n++){var s=i[n];c.push(e[s].message)}f(c)}))},initialTitle:"",initialPrice:"",initialDescription:""}),o&&Object(n.jsx)(p,{products:c,removeFromDom:function(t){s(c.filter((function(e){return e._id!==t}))),console.log(c.filter((function(e){return e._id!==t})))}})]})},m=function(t){var e=Object(i.useState)({}),c=Object(j.a)(e,2),s=c[0],a=c[1],r=Object(i.useState)([]),l=Object(j.a)(r,2);l[0],l[1];return Object(i.useEffect)((function(){d.a.get("http://localhost:8000/api/products/".concat(t.id)).then((function(t){return a(t.data)})).catch((function(t){return console.log(t)}))}),[]),Object(n.jsxs)("div",{className:"detailView",children:[Object(n.jsx)("h1",{style:{marginBottom:"20px"},children:s.title}),Object(n.jsxs)("h4",{children:["Price: $",s.price]}),Object(n.jsxs)("h4",{children:["Description: ",s.description]}),Object(n.jsxs)("div",{className:"edit_delete",children:[Object(n.jsx)("h5",{children:Object(n.jsx)(o.a,{to:"/"+s._id+"/edit",children:"EDIT"})}),Object(n.jsx)(h,{className:"deleteOnDetail",productId:s._id,successCallback:function(){return Object(o.c)("/")}})]}),Object(n.jsx)("h5",{children:Object(n.jsx)(o.a,{to:"/",children:" Back to Main Page "})})]})},f=function(t){var e=Object(i.useState)(),c=Object(j.a)(e,2),s=c[0],a=c[1],r=Object(i.useState)(!1),l=Object(j.a)(r,2),u=l[0],p=l[1];Object(i.useEffect)((function(){d.a.get("http://localhost:8000/api/products/".concat(t.id)).then((function(t){a(t.data),p(!0)}))}),[]);return Object(n.jsxs)("div",{className:"updatePage",children:[Object(n.jsx)("h1",{className:"updateHeader",children:"Update a Product"}),u&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(b,{onSubmitProp:function(e){d.a.put("http://localhost:8000/api/products/".concat(t.id,"/edit"),e).then((function(t){console.log(t),Object(o.c)("/")})).catch((function(t){return console.log(t)}))},initialTitle:s.title,initialPrice:s.price,initialDescription:s.description}),Object(n.jsx)(h,{productId:s._id,successCallback:function(){return Object(o.c)("/")}})]}),Object(n.jsx)("h5",{children:Object(n.jsx)(o.a,{to:"/",children:" Back to Main Page "})})]})};c(52);var x=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(o.b,{children:[Object(n.jsx)(O,{path:"/"}),Object(n.jsx)(m,{path:"/:id"}),Object(n.jsx)(f,{path:"/:id/edit"})]})})},g=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,54)).then((function(e){var c=e.getCLS,n=e.getFID,i=e.getFCP,s=e.getLCP,a=e.getTTFB;c(t),n(t),i(t),s(t),a(t)}))};r.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(x,{})}),document.getElementById("root")),g()}},[[53,1,2]]]);
//# sourceMappingURL=main.429f42eb.chunk.js.map