{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/sujungchoi/Desktop/\\uD83D\\uDC69\\u200D\\uD83D\\uDCBBCodingDojo/MERN/Full_Stack_MERN/product-manager/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{Link,navigate}from'@reach/router';import ProductForm from'../components/ProductForm';import DeleteButton from'../components/DeleteButton';// eslint-disable-next-line\nexport default(function(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setLoaded=_useState4[1];// getting access to the existing data and displaying\nuseEffect(function(){axios.get(\"http://localhost:8000/api/products/\".concat(props.id)).then(function(res){setProduct(res.data);setLoaded(true);});},[]);var updateProduct=function updateProduct(product){axios.put(\"http://localhost:8000/api/products/\".concat(props.id,\"/edit\"),product).then(function(res){console.log(res);// navigate to the main page after updating the form\nnavigate(\"/\");}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"updatePage\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"updateHeader\",children:\"Update a Product\"}),loaded&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ProductForm,{onSubmitProp:updateProduct,initialTitle:product.title,initialPrice:product.price,initialDescription:product.description}),/*#__PURE__*/_jsx(DeleteButton,{productId:product._id,successCallback:function successCallback(){return navigate(\"/\");}})]}),/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\" Back to Main Page \"})})]});});","map":{"version":3,"sources":["/Users/sujungchoi/Desktop/ðŸ‘©â€ðŸ’»CodingDojo/MERN/Full_Stack_MERN/product-manager/client/src/views/Update.js"],"names":["React","useEffect","useState","axios","Link","navigate","ProductForm","DeleteButton","props","product","setProduct","loaded","setLoaded","get","id","then","res","data","updateProduct","put","console","log","catch","err","title","price","description","_id"],"mappings":"kXAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,eAA/B,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CAEA;AACA,eAAe,SAAAC,KAAK,CAAI,eACUN,QAAQ,EADlB,wCACbO,OADa,eACJC,UADI,8BAEQR,QAAQ,CAAC,KAAD,CAFhB,yCAEbS,MAFa,eAELC,SAFK,eAIpB;AACAX,SAAS,CAAC,UAAM,CACZE,KAAK,CAACU,GAAN,8CAAgDL,KAAK,CAACM,EAAtD,GACKC,IADL,CACU,SAAAC,GAAG,CAAI,CACTN,UAAU,CAACM,GAAG,CAACC,IAAL,CAAV,CACAL,SAAS,CAAC,IAAD,CAAT,CACH,CAJL,EAKH,CANQ,CAMN,EANM,CAAT,CAQA,GAAMM,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAT,OAAO,CAAI,CAC7BN,KAAK,CAACgB,GAAN,8CAAgDX,KAAK,CAACM,EAAtD,UAAiEL,OAAjE,EACKM,IADL,CACU,SAAAC,GAAG,CAAI,CACTI,OAAO,CAACC,GAAR,CAAYL,GAAZ,EACA;AACAX,QAAQ,CAAC,GAAD,CAAR,CACH,CALL,EAMKiB,KANL,CAMW,SAAAC,GAAG,QAAEH,CAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ,CAAF,EANd,EAOH,CARD,CAUA,mBAEI,aAAK,SAAS,CAAC,YAAf,wBACI,WAAI,SAAS,CAAC,cAAd,8BADJ,CAEKZ,MAAM,eACH,wCACJ,KAAC,WAAD,EACI,YAAY,CAAEO,aADlB,CAEI,YAAY,CAAET,OAAO,CAACe,KAF1B,CAGI,YAAY,CAAEf,OAAO,CAACgB,KAH1B,CAII,kBAAkB,CAAEhB,OAAO,CAACiB,WAJhC,EADI,cAOJ,KAAC,YAAD,EAAc,SAAS,CAAEjB,OAAO,CAACkB,GAAjC,CAAsC,eAAe,CAAE,iCAAMtB,CAAAA,QAAQ,CAAC,GAAD,CAAd,EAAvD,EAPI,GAHR,cAaI,iCAAI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,iCAAJ,EAbJ,GAFJ,CAkBH,CAzCD","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from 'axios';\nimport { Link, navigate } from '@reach/router';\nimport ProductForm from '../components/ProductForm'\nimport DeleteButton from '../components/DeleteButton';\n\n// eslint-disable-next-line\nexport default props => {\n    const [product, setProduct] = useState();\n    const [loaded, setLoaded] = useState(false);\n\n    // getting access to the existing data and displaying\n    useEffect(() => {\n        axios.get(`http://localhost:8000/api/products/${props.id}` )\n            .then(res => {\n                setProduct(res.data);\n                setLoaded(true);\n            })\n    }, [])\n\n    const updateProduct = product => {\n        axios.put(`http://localhost:8000/api/products/${props.id}/edit`, product)\n            .then(res => {\n                console.log(res)\n                // navigate to the main page after updating the form\n                navigate(\"/\")\n            })\n            .catch(err=>console.log(err));\n    }\n\n    return (\n\n        <div className=\"updatePage\">\n            <h1 className=\"updateHeader\">Update a Product</h1>\n            {loaded && (\n                <>\n            <ProductForm\n                onSubmitProp={updateProduct}\n                initialTitle={product.title}\n                initialPrice={product.price}\n                initialDescription={product.description}\n            />\n            <DeleteButton productId={product._id} successCallback={() => navigate(\"/\")} />\n            </>\n            )}\n            <h5><Link to='/'> Back to Main Page </Link></h5>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}